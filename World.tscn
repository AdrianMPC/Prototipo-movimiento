[gd_scene load_steps=40 format=3 uid="uid://bqrr6v6dqg2w"]

[ext_resource type="Texture2D" uid="uid://dw5pnvt2mvaon" path="res://assets/hdris/kloofendal_48d_partly_cloudy_puresky_2k.hdr" id="1_2aun3"]
[ext_resource type="PackedScene" uid="uid://inkieu5uwp0x" path="res://PlayerComponent.tscn" id="1_qaxgb"]
[ext_resource type="Texture2D" uid="uid://d2mck8ctmpfnn" path="res://assets/textures/dev/grids/Dark/texture_07.png" id="2_vve4b"]
[ext_resource type="Texture2D" uid="uid://dfcvpyi6o50cu" path="res://assets/textures/dev/grids/Orange/texture_05.png" id="4_25aek"]
[ext_resource type="PackedScene" uid="uid://bak8ltrhbmlv5" path="res://utils/CSGStairMaker3D.tscn" id="5_swcr2"]
[ext_resource type="PackedScene" uid="uid://ca0wevg1lb4rx" path="res://utils/WaterMaker3D/WaterMaker3D.tscn" id="6_4l2c3"]
[ext_resource type="Script" path="res://Scripts/World/interactable_component.gd" id="7_j3p0b"]
[ext_resource type="Script" path="res://Scripts/World/spawn_once.gd" id="8_81nf0"]
[ext_resource type="PackedScene" uid="uid://b1ovqgjwms7u4" path="res://utils/ladder.tscn" id="9_6fr0f"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_50r4k"]
panorama = ExtResource("1_2aun3")

[sub_resource type="Sky" id="Sky_o2n7w"]
sky_material = SubResource("PanoramaSkyMaterial_50r4k")

[sub_resource type="Environment" id="Environment_57f5r"]
background_mode = 2
sky = SubResource("Sky_o2n7w")
reflected_light_source = 1
tonemap_mode = 2
fog_sky_affect = 0.0
volumetric_fog_enabled = true
volumetric_fog_density = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pu5j0"]
albedo_texture = ExtResource("2_vve4b")

[sub_resource type="PlaneMesh" id="PlaneMesh_b3arq"]
material = SubResource("StandardMaterial3D_pu5j0")
size = Vector2(20, 20)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_hedwm"]
data = PackedVector3Array(10, 0, 10, -10, 0, 10, 10, 0, -10, -10, 0, 10, -10, 0, -10, 10, 0, -10)

[sub_resource type="BoxMesh" id="BoxMesh_q4n1s"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qggaq"]
albedo_texture = ExtResource("4_25aek")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_e1u2t"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mpwbk"]
albedo_texture = ExtResource("4_25aek")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w4dow"]
albedo_texture = ExtResource("2_vve4b")

[sub_resource type="BoxMesh" id="BoxMesh_jfug0"]
material = SubResource("StandardMaterial3D_w4dow")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_rd6cv"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_42j3y"]
albedo_texture = ExtResource("4_25aek")

[sub_resource type="BoxMesh" id="BoxMesh_jaor7"]
material = SubResource("StandardMaterial3D_42j3y")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_kdh8j"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1a5ra"]
albedo_texture = ExtResource("4_25aek")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y0oye"]
albedo_texture = ExtResource("2_vve4b")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_gn0e2"]
resource_local_to_scene = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wgvoa"]
resource_local_to_scene = true
seamless = true
as_normal_map = true
noise = SubResource("FastNoiseLite_gn0e2")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_6w4oq"]
resource_local_to_scene = true
seamless = true
as_normal_map = true
noise = SubResource("FastNoiseLite_gn0e2")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3wmtn"]
resource_local_to_scene = true
transparency = 1
cull_mode = 2
depth_draw_mode = 1
albedo_color = Color(0.309804, 0.541176, 0.866667, 0.388235)
roughness = 0.0
normal_enabled = true
normal_texture = SubResource("NoiseTexture2D_wgvoa")
refraction_enabled = true
refraction_texture = SubResource("NoiseTexture2D_6w4oq")
uv1_scale = Vector3(0.06, 0.06, 0.06)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sb4i1"]
albedo_color = Color(0.177763, 0.0261103, 0.362412, 1)

[sub_resource type="BoxMesh" id="BoxMesh_myouy"]
material = SubResource("StandardMaterial3D_sb4i1")

[sub_resource type="BoxShape3D" id="BoxShape3D_e4qbk"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pu1yx"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_6dlr1"]
material = SubResource("StandardMaterial3D_pu1yx")

[sub_resource type="BoxShape3D" id="BoxShape3D_fwvdj"]

[sub_resource type="Curve3D" id="Curve3D_6xdiu"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -4.02317, 2.74235, -7.06342, 4.39566, -1.18675, -2.80034, -4.39566, 1.18675, 2.80034, -7.07433, -1.55051, 2.951, -0.792024, -1.50053, -0.177943, 0.792024, 1.50053, 0.177943, -4.52435, 1.29522, 8.52511),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5cwsh"]
albedo_texture = ExtResource("4_25aek")

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_57f5r")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true
directional_shadow_mode = 0

[node name="Move10" type="MeshInstance3D" parent="."]
transform = Transform3D(2.16089, 0, 0, 0, 0.99777, 0, 0, 0, 2.16089, 0, 0, 0)
layers = 3
mesh = SubResource("PlaneMesh_b3arq")

[node name="StaticBody3D" type="StaticBody3D" parent="Move10"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Move10/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_hedwm")

[node name="CharacterBody3D" parent="." instance=ExtResource("1_qaxgb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4109, 0.0706563, -3.77171)
floor_max_angle = 0.785398

[node name="surf" type="MeshInstance3D" parent="."]
transform = Transform3D(-3.51721e-06, -53.8787, 1.69623, 0, 86.224, 1.05992, -80.4641, 2.35511e-06, -7.41444e-08, -3.06083, 0.541048, -62.434)
mesh = SubResource("BoxMesh_q4n1s")
surface_material_override/0 = SubResource("StandardMaterial3D_qggaq")

[node name="StaticBody3D" type="StaticBody3D" parent="surf"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="surf/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_e1u2t")

[node name="CSGStairMaker3D" parent="." instance=ExtResource("5_swcr2")]
transform = Transform3D(-4.37114e-08, 0, 2.65033, 0, 1.28495, 0, -1, 0, -1.1585e-07, -10.4955, 0.611376, 16.3055)
use_collision = true
size = Vector3(1.44714, 1, 3.07178)
material = SubResource("StandardMaterial3D_mpwbk")

[node name="CSGStairMaker3D2" parent="." instance=ExtResource("5_swcr2")]
transform = Transform3D(-4.37114e-08, 0, 2.65033, 0, 1.28495, 0, -1, 0, -1.1585e-07, -10.4955, 1.88821, 14.8589)
use_collision = true
size = Vector3(1.44714, 1, 3.07178)
material = SubResource("StandardMaterial3D_mpwbk")

[node name="CSGStairMaker3D3" parent="." instance=ExtResource("5_swcr2")]
transform = Transform3D(-4.37114e-08, 0, 2.65033, 0, 1.28495, 0, -1, 0, -1.1585e-07, -10.4955, 3.16849, 13.4131)
use_collision = true
size = Vector3(1.44714, 1, 3.07178)
material = SubResource("StandardMaterial3D_mpwbk")

[node name="CSGStairMaker3D4" parent="." instance=ExtResource("5_swcr2")]
transform = Transform3D(-4.37114e-08, 0, 2.65033, 0, 1.28495, 0, -1, 0, -1.1585e-07, -10.4955, 4.44888, 11.9664)
use_collision = true
size = Vector3(1.44714, 1, 3.07178)
material = SubResource("StandardMaterial3D_mpwbk")

[node name="CSGStairMaker3D5" parent="." instance=ExtResource("5_swcr2")]
transform = Transform3D(-4.37114e-08, 0, 2.65033, 0, 1.28495, 0, -1, 0, -1.1585e-07, -10.4955, 5.73166, 10.5182)
use_collision = true
size = Vector3(1.44714, 1, 3.07178)
material = SubResource("StandardMaterial3D_mpwbk")

[node name="Block" type="MeshInstance3D" parent="."]
transform = Transform3D(8.16316, 0, 0, 0, 6.73327, 0, 0, 0, 9.7934, -10.5005, 3.29511, 4.90144)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Label3D" type="Label3D" parent="Block"]
transform = Transform3D(-2.4831e-08, 0, 0.568068, 0, 0.568068, 0, -0.568068, 0, -2.4831e-08, 0.50707, 0, 0)
text = "Autohop = ON
Surf = ON
V para noclip"

[node name="Block2" type="MeshInstance3D" parent="."]
transform = Transform3D(8.16316, 0, 0, 0, 2.99967, 0, 0, 0, 9.7934, 5.66183, 1.50854, 4.96095)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block2/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Label3D" type="Label3D" parent="Block2"]
transform = Transform3D(-0.389629, 0, -8.74228e-08, 0, 1, 0, 3.40624e-08, 0, -1, -0.0238593, 0.3687, -0.501578)
text = "button"

[node name="Block3" type="MeshInstance3D" parent="."]
transform = Transform3D(1.86639, 0, 0, 0, 0.49, 0, 0, 0, 1.205, -10.4665, 6.84223, 4.85236)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block3/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Block4" type="MeshInstance3D" parent="."]
transform = Transform3D(1.986, 0, 0, 0, 0.952042, 0, 0, 0, 1.205, -10.5005, 7.01512, 3.677)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block4/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Box" type="MeshInstance3D" parent="."]
transform = Transform3D(1.27496, 0, 0, 0, 1.27496, 0, 0, 0, 1.27496, 0.907975, 0.634819, 0.832609)
mesh = SubResource("BoxMesh_jaor7")

[node name="StaticBody3D" type="StaticBody3D" parent="Box"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_kdh8j")

[node name="Box2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.592408, 0, 0, 0, 0.592408, 0, 0, 0, 0.592408, 1.24673, 1.53997, 1.13182)
mesh = SubResource("BoxMesh_jaor7")

[node name="StaticBody3D" type="StaticBody3D" parent="Box2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box2/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_kdh8j")

[node name="Box3" type="MeshInstance3D" parent="."]
transform = Transform3D(1.30357, 0, 0, 0, 0.170332, 0, 0, 0, 0.592408, 0.868495, 0.0854763, -0.0934496)
mesh = SubResource("BoxMesh_jaor7")

[node name="StaticBody3D" type="StaticBody3D" parent="Box3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Box3/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_kdh8j")

[node name="Pool" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.6642, 0, -6.31941)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Pool"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.174072, 2.98138, 2.87067)
size = Vector3(8.05713, 6.10022, 6.74133)
material = SubResource("StandardMaterial3D_1a5ra")

[node name="CSGBox3D2" type="CSGBox3D" parent="Pool/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.265913, 0.293351, -0.325264)
operation = 2
size = Vector3(6.96894, 5.64487, 5.80391)
material = SubResource("StandardMaterial3D_y0oye")

[node name="WaterMaker3D" parent="." instance=ExtResource("6_4l2c3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.6958, 3.14432, -3.63577)
size = Vector3(7.31055, 5.66211, 6.21851)
material = SubResource("StandardMaterial3D_3wmtn")
water_texture_uv_scale = 0.06
fog_color = Color(0.309804, 0.541176, 0.866667, 0.388235)
fog_fade_dist = 1.0

[node name="10Push" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.551105, -7.70751)
collision_layer = 7
collision_mask = 7
mass = 10.0

[node name="weight" type="Node3D" parent="10Push"]

[node name="Cube" type="MeshInstance3D" parent="10Push/weight"]
mesh = SubResource("BoxMesh_myouy")

[node name="CollisionShape3D" type="CollisionShape3D" parent="10Push"]
shape = SubResource("BoxShape3D_e4qbk")

[node name="Label3D" type="Label3D" parent="10Push"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.517741)
text = "10KG"

[node name="Boton" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.886481, 5.52688, 1.77598, -0.314832)
layers = 4
mesh = SubResource("BoxMesh_6dlr1")

[node name="StaticBody3D" type="StaticBody3D" parent="Boton"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boton/StaticBody3D"]
shape = SubResource("BoxShape3D_fwvdj")

[node name="CUsableComponent" type="Node" parent="Boton/StaticBody3D"]
script = ExtResource("7_j3p0b")

[node name="10Push2" type="RigidBody3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 7.8514, 6.39029, 1.3734)
collision_layer = 3
collision_mask = 3
mass = 5.0
script = ExtResource("8_81nf0")

[node name="weight" type="Node3D" parent="10Push2"]

[node name="Cube" type="MeshInstance3D" parent="10Push2/weight"]
mesh = SubResource("BoxMesh_myouy")

[node name="CollisionShape3D" type="CollisionShape3D" parent="10Push2"]
shape = SubResource("BoxShape3D_e4qbk")

[node name="Label3D" type="Label3D" parent="10Push2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.517741)
text = "5
KG"

[node name="Ladder" parent="." instance=ExtResource("9_6fr0f")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.45807, -1.49779, -3.49567)

[node name="Ladder2" parent="." instance=ExtResource("9_6fr0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.45807, 7.31353, -14.4636)

[node name="Block5" type="MeshInstance3D" parent="."]
transform = Transform3D(22.0934, 0, 0, 0, 2.99967, 0, 0, 0, 4.64253, -15.9327, 13.302, -16.8386)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block5/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Ladder3" parent="." instance=ExtResource("9_6fr0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.388, 22.2875, -19.0625)

[node name="Block6" type="MeshInstance3D" parent="."]
transform = Transform3D(4.13767, 0, 0, 0, 2.99967, 0, 0, 0, 2.86516, -19.9168, 28.1661, -20.6878)
mesh = SubResource("BoxMesh_jfug0")

[node name="StaticBody3D" type="StaticBody3D" parent="Block6"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Block6/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rd6cv")

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(2.85124, 0, 0, 0, 2.85124, 0, 0, 0, 2.85124, -12.8791, 4.28015, 3.14019)
curve = SubResource("Curve3D_6xdiu")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Path3D"]
use_collision = true
polygon = PackedVector2Array(0, 0, 0.5, 1, 1, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = SubResource("StandardMaterial3D_5cwsh")

[connection signal="used" from="Boton/StaticBody3D/CUsableComponent" to="10Push2" method="_on_c_usable_component_used"]
